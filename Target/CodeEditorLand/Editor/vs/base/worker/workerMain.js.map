{
  "version": 3,
  "sources": ["../../../../../../Dependency/Land/Dependency/Editor/Source/vs/base/worker/workerMain.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n(function () {\n\n\tfunction loadCode(moduleId: string): Promise<SimpleWorkerModule> {\n\t\tconst moduleUrl = new URL(`${moduleId}.js`, globalThis._VSCODE_FILE_ROOT);\n\t\treturn import(moduleUrl.href);\n\t}\n\n\tinterface MessageHandler {\n\t\tonmessage(msg: any, ports: readonly MessagePort[]): void;\n\t}\n\n\t// shape of vs/base/common/worker/simpleWorker.ts\n\tinterface SimpleWorkerModule {\n\t\tcreate(postMessage: (msg: any, transfer?: Transferable[]) => void): MessageHandler;\n\t}\n\n\tfunction setupWorkerServer(ws: SimpleWorkerModule) {\n\t\tsetTimeout(function () {\n\t\t\tconst messageHandler = ws.create((msg: any, transfer?: Transferable[]) => {\n\t\t\t\t(<any>globalThis).postMessage(msg, transfer);\n\t\t\t});\n\n\t\t\tself.onmessage = (e: MessageEvent) => messageHandler.onmessage(e.data, e.ports);\n\t\t\twhile (beforeReadyMessages.length > 0) {\n\t\t\t\tself.onmessage(beforeReadyMessages.shift()!);\n\t\t\t}\n\t\t}, 0);\n\t}\n\n\tlet isFirstMessage = true;\n\tconst beforeReadyMessages: MessageEvent[] = [];\n\tglobalThis.onmessage = (message: MessageEvent) => {\n\t\tif (!isFirstMessage) {\n\t\t\tbeforeReadyMessages.push(message);\n\t\t\treturn;\n\t\t}\n\n\t\tisFirstMessage = false;\n\t\tloadCode(message.data).then((ws) => {\n\t\t\tsetupWorkerServer(ws);\n\t\t}, (err) => {\n\t\t\tconsole.error(err);\n\t\t});\n\t};\n})();\n"],
  "mappings": ";;CAKC,WAAY;AAEZ,WAAS,SAAS,UAA+C;AAChE,UAAM,YAAY,IAAI,IAAI,GAAG,QAAQ,OAAO,WAAW,iBAAiB;AACxE,WAAO,OAAO,UAAU;AAAA,EACzB;AAHS;AAcT,WAAS,kBAAkB,IAAwB;AAClD,eAAW,WAAY;AACtB,YAAM,iBAAiB,GAAG,OAAO,CAAC,KAAU,aAA8B;AACzE,QAAM,WAAY,YAAY,KAAK,QAAQ;AAAA,MAC5C,CAAC;AAED,WAAK,YAAY,CAAC,MAAoB,eAAe,UAAU,EAAE,MAAM,EAAE,KAAK;AAC9E,aAAO,oBAAoB,SAAS,GAAG;AACtC,aAAK,UAAU,oBAAoB,MAAM,CAAE;AAAA,MAC5C;AAAA,IACD,GAAG,CAAC;AAAA,EACL;AAXS;AAaT,MAAI,iBAAiB;AACrB,QAAM,sBAAsC,CAAC;AAC7C,aAAW,YAAY,CAAC,YAA0B;AACjD,QAAI,CAAC,gBAAgB;AACpB,0BAAoB,KAAK,OAAO;AAChC;AAAA,IACD;AAEA,qBAAiB;AACjB,aAAS,QAAQ,IAAI,EAAE,KAAK,CAAC,OAAO;AACnC,wBAAkB,EAAE;AAAA,IACrB,GAAG,CAAC,QAAQ;AACX,cAAQ,MAAM,GAAG;AAAA,IAClB,CAAC;AAAA,EACF;AACD,GAAG;",
  "names": []
}
